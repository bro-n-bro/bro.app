"use strict";(self["webpackChunkbro_app"]=self["webpackChunkbro_app"]||[]).push([[483],{20633:function(s,e,t){t.r(e),t.d(e,{default:function(){return be}});var l=t(73396),o=t(44870),a=t(87139),i=t(49242),n=t(27795),r=t.p+"img/empty_proposals.40cc1f50.svg",_=t(34776),c=t(90466);const p=s=>((0,l.dD)("data-v-37cd2cb6"),s=s(),(0,l.Cn)(),s),d=n+"#ic_arr_down",v={class:"networks"},u=["onClick"],w=p((()=>(0,l._)("svg",{class:"arr"},[(0,l._)("use",{"xlink:href":d})],-1))),g={class:"list"},k=p((()=>(0,l._)("div",{class:"logo"},[(0,l._)("img",{src:"/cosmoshub_logo.png",alt:""})],-1))),f={class:"name"},m={class:"token"},S=p((()=>(0,l._)("div",{class:"logo"},[(0,l._)("img",{src:"/bostrom_logo.png",alt:""})],-1))),y={class:"name"},b={class:"token"};var h={__name:"Networks",setup(s){const e=(0,_.s)();function t(s){s.target.classList.toggle("active")}return(s,n)=>{const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",v,[(0,l._)("div",{class:"title",onClick:(0,i.iM)(t,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_networks_title")),1),w],8,u),(0,l._)("div",g,[(0,l.Wm)(r,{to:"/proposals/cosmoshub",class:(0,a.C_)(["network",{active:"cosmoshub"==(0,o.SU)(e).currentNetwork}])},{default:(0,l.w5)((()=>[k,(0,l._)("div",null,[(0,l._)("div",f,(0,a.zw)((0,o.SU)(e).networks.cosmoshub.name),1),(0,l._)("div",m,(0,a.zw)((0,o.SU)(e).networks.cosmoshub.token_name),1)])])),_:1},8,["class"]),(0,l.Wm)(r,{to:"/proposals/bostrom",class:(0,a.C_)(["network",{active:"bostrom"==(0,o.SU)(e).currentNetwork}])},{default:(0,l.w5)((()=>[S,(0,l._)("div",null,[(0,l._)("div",y,(0,a.zw)((0,o.SU)(e).networks.bostrom.name),1),(0,l._)("div",b,(0,a.zw)((0,o.SU)(e).networks.bostrom.token_name),1)])])),_:1},8,["class"])])])}}},z=t(40089);const O=(0,z.Z)(h,[["__scopeId","data-v-37cd2cb6"]]);var P=O,D=t(42325);const U=s=>((0,l.dD)("data-v-0b88992a"),s=s(),(0,l.Cn)(),s),T=n+"#ic_status_deposite",$=n+"#ic_status_voting",R=n+"#ic_status_passed",A=n+"#ic_status_rejected",E={class:"network_logo"},C=["src"],j={class:"status"},x={key:0,class:"violet"},I=U((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":T})],-1))),L={key:1,class:"blue"},N=U((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":$})],-1))),q={key:2,class:"green"},H=U((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":R})],-1))),F={key:3,class:"red"},M=U((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":A})],-1))),W={key:0,class:"date"},G={key:1,class:"date"},J={key:2,class:"date"},V={class:"name"},Y={class:"desc"},B={key:3,class:"progress"},Z={class:"bar"},K={class:"funds"},Q={class:"label"},X={class:"val"},ss={class:"label"},es={class:"val"},ts={key:4,class:"progress"},ls={class:"bar"},os={class:"exp"},as={class:"yes green"},is={class:"label"},ns={class:"val"},rs={class:"no orange"},_s={class:"label"},cs={class:"val"},ps={class:"nwv red"},ds={class:"label"},vs={class:"val"},us={key:5,class:"progress"},ws={class:"bar"},gs={class:"exp"},ks={class:"yes green"},fs={class:"label"},ms={class:"val"},Ss={class:"no orange"},ys={class:"label"},bs={class:"val"},hs={class:"nwv red"},zs={class:"label"},Os={class:"val"},Ps={class:"abstain grey"},Ds={class:"label"},Us={class:"val"};var Ts={__name:"ProposalsItem",props:["proposal"],setup(s){const e=s,t=(0,_.s)(),i=(new Date).getTimezoneOffset()/60*-1,n=(0,c.BKj)(r(e.proposal.voting_end_time));function r(s){let e=new Date(s);return new Date(e.setHours(e.getHours()+i))}function p(s){let t=e.proposal.tally_no+e.proposal.tally_no_with_veto+e.proposal.tally_yes;return(s/t*100).toFixed(2)}function d(s){let t=e.proposal.tally_abstain+e.proposal.tally_no+e.proposal.tally_no_with_veto+e.proposal.tally_yes;return(s/t*100).toFixed(2)}return(i,_)=>{const c=(0,l.up)("vue-countdown"),v=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(v,{to:`/${(0,o.SU)(t).currentNetwork}/proposal/${e.proposal.id}`,class:"proposal"},{default:(0,l.w5)((()=>[(0,l._)("div",E,[(0,l._)("img",{src:`/${(0,o.SU)(t).currentNetwork}_logo.png`,alt:""},null,8,C)]),(0,l._)("div",j,["PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",x,[I,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_deposite")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",L,[N,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_voting")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",q,[H,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_passed")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_REJECTED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",F,[M,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_rejected")),1)])):(0,l.kq)("",!0)]),"PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",W,[(0,l.Wm)(c,{time:r(s.proposal.deposit_end_time)-new Date},{default:(0,l.w5)((({days:s,hours:e,minutes:t,seconds:o})=>[(0,l.Uk)((0,a.zw)(s)+"D : "+(0,a.zw)(e)+"H : "+(0,a.zw)(t)+"M : "+(0,a.zw)(o)+"S ",1)])),_:1},8,["time"])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",G,[(0,l.Wm)(c,{time:r(s.proposal.voting_end_time)-new Date},{default:(0,l.w5)((({days:s,hours:e,minutes:t,seconds:o})=>[(0,l.Uk)((0,a.zw)(s)+"D : "+(0,a.zw)(e)+"H : "+(0,a.zw)(t)+"M : "+(0,a.zw)(o)+"S ",1)])),_:1},8,["time"])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status||"PROPOSAL_STATUS_REJECTED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",J,[(0,l._)("div",null,(0,a.zw)(i.$t("message.proposal_date_label_default")),1),(0,l._)("div",null,(0,a.zw)((0,o.SU)(n)),1)])):(0,l.kq)("",!0),(0,l._)("div",V,"#"+(0,a.zw)(e.proposal.id)+" "+(0,a.zw)(e.proposal.title),1),(0,l._)("div",Y,(0,a.zw)(e.proposal.description),1),"PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",B,[(0,l._)("div",Z,[(0,l._)("div",{class:"violet",style:(0,a.j5)(`width: ${i.$filters.toFixed((0,o.SU)(D.LH)(e.proposal.deposit,(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)/(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].proposal_need*100,2)}%;`)},null,4)]),(0,l._)("div",K,[(0,l._)("div",null,[(0,l._)("div",Q,(0,a.zw)(i.$t("message.proposal_deposite_label_collected")),1),(0,l._)("div",X,(0,a.zw)(i.$filters.toFixed((0,o.SU)(D.LH)(e.proposal.deposit,(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name),0))+" "+(0,a.zw)((0,o.SU)(D.uR)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)),1)]),(0,l._)("div",null,[(0,l._)("div",ss,(0,a.zw)(i.$t("message.proposal_deposite_label_necessary")),1),(0,l._)("div",es,(0,a.zw)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].proposal_need)+" "+(0,a.zw)((0,o.SU)(D.uR)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)),1)])])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",ts,[(0,l._)("div",ls,[(0,l._)("div",{class:"yes green",style:(0,a.j5)(`width: ${p(e.proposal.tally_yes)}%;`)},null,4),(0,l._)("div",{class:"no orange",style:(0,a.j5)(`width: ${p(e.proposal.tally_no)}%;`)},null,4),(0,l._)("div",{class:"nwv red",style:(0,a.j5)(`width: ${p(e.proposal.tally_no_with_veto)}%;`)},null,4)]),(0,l._)("div",os,[(0,l._)("div",as,[(0,l._)("div",is,(0,a.zw)(i.$t("message.proposal_voting_label_yes")),1),(0,l._)("div",ns,(0,a.zw)(p(e.proposal.tally_yes))+"%",1)]),(0,l._)("div",rs,[(0,l._)("div",_s,(0,a.zw)(i.$t("message.proposal_voting_label_no")),1),(0,l._)("div",cs,(0,a.zw)(p(e.proposal.tally_no))+"%",1)]),(0,l._)("div",ps,[(0,l._)("div",ds,(0,a.zw)(i.$t("message.proposal_voting_label_nwv")),1),(0,l._)("div",vs,(0,a.zw)(p(e.proposal.tally_no_with_veto))+"%",1)])])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status||"PROPOSAL_STATUS_REJECTED"==s.proposal.status?((0,l.wg)(),(0,l.iD)("div",us,[(0,l._)("div",ws,[(0,l._)("div",{class:"yes green",style:(0,a.j5)(`width: ${d(e.proposal.tally_yes)}%;`)},null,4),(0,l._)("div",{class:"no orange",style:(0,a.j5)(`width: ${d(e.proposal.tally_no)}%;`)},null,4),(0,l._)("div",{class:"nwv red",style:(0,a.j5)(`width: ${d(e.proposal.tally_no_with_veto)}%;`)},null,4)]),(0,l._)("div",gs,[(0,l._)("div",ks,[(0,l._)("div",fs,(0,a.zw)(i.$t("message.proposal_voting_label_yes")),1),(0,l._)("div",ms,(0,a.zw)(d(e.proposal.tally_yes))+"%",1)]),(0,l._)("div",Ss,[(0,l._)("div",ys,(0,a.zw)(i.$t("message.proposal_voting_label_no")),1),(0,l._)("div",bs,(0,a.zw)(d(e.proposal.tally_no))+"%",1)]),(0,l._)("div",hs,[(0,l._)("div",zs,(0,a.zw)(i.$t("message.proposal_voting_label_nwv")),1),(0,l._)("div",Os,(0,a.zw)(d(e.proposal.tally_no_with_veto))+"%",1)]),(0,l._)("div",Ps,[(0,l._)("div",Ds,(0,a.zw)(i.$t("message.proposal_voting_label_abstain")),1),(0,l._)("div",Us,(0,a.zw)(d(e.proposal.tally_abstain))+"%",1)])])])):(0,l.kq)("",!0)])),_:1},8,["to"])}}};const $s=(0,z.Z)(Ts,[["__scopeId","data-v-0b88992a"]]);var Rs=$s;const As=n+"#ic_arrow_ver",Es=(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":As})],-1),Cs=[Es];var js={__name:"ButtonUp",setup(s){const e=(0,o.iH)("none");function t(){window.scrollTo({top:0,behavior:"smooth"})}return(0,l.bv)((()=>{window.addEventListener("scroll",(()=>{let s=window.pageYOffset,t=document.documentElement.clientHeight;e.value=s>t?"flex":"none"}))})),(s,o)=>((0,l.wg)(),(0,l.iD)("button",{class:"btn_up",onClick:o[0]||(o[0]=s=>t()),style:(0,a.j5)({display:e.value})},Cs,4))}};const xs=js;var Is=xs,Ls=t(15941);const Ns=s=>((0,l.dD)("data-v-9eb1480c"),s=s(),(0,l.Cn)(),s),qs=n+"#ic_arrow_hor",Hs=n+"#ic_arr_down",Fs=n+"#ic_check",Ms={class:"proposals_page"},Ws={class:"cont middle"},Gs={class:"back_btn"},Js=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":qs})],-1))),Vs=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":qs})],-1))),Ys={class:"grid row"},Bs={class:"col"},Zs={class:"col_main"},Ks={class:"head"},Qs={class:"title"},Xs={key:0,class:"loader_wrap"},se=Ns((()=>(0,l._)("div",{class:"loader"},[(0,l._)("span")],-1))),ee=[se],te={key:1,class:"proposals"},le={key:2,class:"empty"},oe=Ns((()=>(0,l._)("img",{src:r,alt:""},null,-1))),ae={class:"title"},ie={key:0,class:"loader_wrap"},ne=Ns((()=>(0,l._)("div",{class:"loader"},[(0,l._)("span")],-1))),re=[ne],_e=Ns((()=>(0,l._)("div",{class:"load_more_area"},null,-1))),ce={class:"col"},pe={class:"filter"},de=["onClick"],ve=Ns((()=>(0,l._)("svg",{class:"arr"},[(0,l._)("use",{"xlink:href":Hs})],-1))),ue=["onClick"],we=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Fs})],-1))),ge=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Fs})],-1))),ke=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Fs})],-1))),fe=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Fs})],-1))),me=Ns((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Fs})],-1)));var Se={__name:"Proposals",setup(s){const e=(0,_.s)(),t=(0,l.f3)("i18n"),n=(0,o.iH)(!0),r=(0,o.iH)(!1),p=(0,c.ltg)("history"),d=(0,o.qj)({loading:!1,allReceived:!1,showButtonUp:!1,filter_deposit:!1,filter_voting:!1,filter_passed:!1,filter_rejected:!1,filter:""});async function v(){d.loading=!0,d.offset=d.offset+d.limit,await g(!0)}async function u(s){let e="",t=s.split("-");for(s of t)"deposit"==s&&(d.filter_deposit=!d.filter_deposit),"voting"==s&&(d.filter_voting=!d.filter_voting),"passed"==s&&(d.filter_passed=!d.filter_passed),"rejected"==s&&(d.filter_rejected=!d.filter_rejected);d.filter="",d.filter_deposit&&(e.length&&(e+="-"),e+="deposit",d.filter+=",PROPOSAL_STATUS_DEPOSIT_PERIOD"),d.filter_voting&&(e.length&&(e+="-"),e+="voting",d.filter+=",PROPOSAL_STATUS_VOTING_PERIOD"),d.filter_passed&&(e.length&&(e+="-"),e+="passed",d.filter+=",PROPOSAL_STATUS_PASSED"),d.filter_rejected&&(e.length&&(e+="-"),e+="rejected",d.filter+=",PROPOSAL_STATUS_REJECTED"),p.filter=e,d.allReceived=!1,await g()}async function w(){d.allReceived=!1,d.filter_deposit=!1,d.filter_voting=!1,d.filter_passed=!1,d.filter_rejected=!1,d.filter="",await g()}async function g(s=!1){r.value=!0;let t="";s||(n.value=!0,d.proposals=[],d.offset=0,d.limit=10),t=d.filter.length?`${e.networks[e.currentNetwork].index_api}/gov/proposals?limit=${d.limit}&offset=${d.offset}&status__in=${d.filter.substring(1)}`:`${e.networks[e.currentNetwork].index_api}/gov/proposals?limit=${d.limit}&offset=${d.offset}`,await fetch(t).then((s=>s.json())).then((e=>{e.proposals.length?d.proposals=d.proposals.concat(e.proposals):d.allReceived=!0,e.proposals.length<d.limit&&(d.allReceived=!0),s?d.loading=!1:n.value=!1,r.value=!1})),f.observe(document.querySelector(".load_more_area"))}function k(s){for(const e of s)e.intersectionRatio>=1&&!d.loading&&!d.allReceived&&v()}(0,l.wF)((async()=>{e.tooltip=t.global.t("message.notice_default_proposals_page");try{e.proposalsFilter?await u(e.proposalsFilter):await g()}catch(s){Ls.error(s)}})),(0,l.YP)((0,l.Fl)((()=>e.currentNetwork)),(async()=>{n.value=!0,d.proposals=[],d.offset=0,d.limit=10;try{e.proposalsFilter?await u(e.proposalsFilter):await g()}catch(s){Ls.error(s)}}));var f=new IntersectionObserver(k,{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});function m(s){s.target.classList.toggle("active")}return(s,t)=>{const _=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",Ms,[(0,l._)("div",Ws,[(0,l._)("div",Gs,[(0,o.SU)(e).demo?((0,l.wg)(),(0,l.j4)(_,{key:0,to:`/account/${(0,o.SU)(e).currentNetwork}?demo=true`,class:"btn"},{default:(0,l.w5)((()=>[Js])),_:1},8,["to"])):((0,l.wg)(),(0,l.j4)(_,{key:1,to:`/account/${(0,o.SU)(e).currentNetwork}`,class:"btn"},{default:(0,l.w5)((()=>[Vs])),_:1},8,["to"]))]),(0,l._)("div",Ys,[(0,l._)("section",Bs,[(0,l.Wm)(P)]),(0,l._)("section",Zs,[(0,l._)("div",Ks,[(0,l._)("div",Qs,(0,a.zw)(s.$t("message.account_proposals_title")),1)]),n.value?((0,l.wg)(),(0,l.iD)("div",Xs,ee)):((0,l.wg)(),(0,l.iD)("div",te,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.proposals,((s,e)=>((0,l.wg)(),(0,l.j4)(Rs,{key:e,proposal:s},null,8,["proposal"])))),128))])),n.value||d.proposals.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",le,[oe,(0,l._)("div",ae,(0,a.zw)(s.$t("message.proposals_empty_title")),1)])),d.proposals.length?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[d.loading?((0,l.wg)(),(0,l.iD)("div",ie,re)):(0,l.kq)("",!0),_e],64)):(0,l.kq)("",!0)]),(0,l._)("section",ce,[(0,l._)("div",pe,[(0,l._)("div",{class:"title",onClick:(0,i.iM)(m,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.filter_title")),1),ve],8,de),(0,l._)("div",{class:(0,a.C_)(["items",{lock:r.value}])},[(0,l._)("button",{class:(0,a.C_)(["btn",{active:!d.filter.length}]),onClick:(0,i.iM)(w,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_all")),1),we],10,ue),(0,l._)("button",{class:(0,a.C_)(["btn",{active:d.filter_deposit}]),onClick:t[0]||(t[0]=(0,i.iM)((s=>u("deposit")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_deposite")),1),ge],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:d.filter_passed}]),onClick:t[1]||(t[1]=(0,i.iM)((s=>u("passed")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_passed")),1),ke],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:d.filter_rejected}]),onClick:t[2]||(t[2]=(0,i.iM)((s=>u("rejected")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_rejected")),1),fe],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:d.filter_voting}]),onClick:t[3]||(t[3]=(0,i.iM)((s=>u("voting")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_voting")),1),me],2)],2)]),(0,l.Wm)(Is)])])])])}}};const ye=(0,z.Z)(Se,[["__scopeId","data-v-9eb1480c"]]);var be=ye}}]);
//# sourceMappingURL=483.a6bcb25d.js.map
"use strict";(self["webpackChunkbro_app"]=self["webpackChunkbro_app"]||[]).push([[569],{34721:function(s,e,t){t.d(e,{Z:function(){return z}});var l=t(73396),o=t(49242),a=t(87139),i=t(44870),n=t(27795),r=t(34776);const _=s=>((0,l.dD)("data-v-5958543c"),s=s(),(0,l.Cn)(),s),c=n+"#ic_arr_down",p={class:"networks"},d=["onClick"],v=_((()=>(0,l._)("svg",{class:"arr"},[(0,l._)("use",{"xlink:href":c})],-1))),u={class:"list"},w=_((()=>(0,l._)("div",{class:"logo"},[(0,l._)("img",{src:"/cosmoshub_logo.png",alt:""})],-1))),g={class:"name"},f={class:"token"},k=_((()=>(0,l._)("div",{class:"logo"},[(0,l._)("img",{src:"/bostrom_logo.png",alt:""})],-1))),m={class:"name"},S={class:"token"};var y={__name:"Networks",setup(s){const e=(0,r.s)();function t(s){s.target.classList.toggle("active")}return(s,n)=>{const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",p,[(0,l._)("div",{class:"title",onClick:(0,o.iM)(t,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_networks_title")),1),v],8,d),(0,l._)("div",u,[(0,l.Wm)(r,{to:"/account/cosmoshub",class:(0,a.C_)(["network",{active:"cosmoshub"==(0,i.SU)(e).currentNetwork}])},{default:(0,l.w5)((()=>[w,(0,l._)("div",null,[(0,l._)("div",g,(0,a.zw)((0,i.SU)(e).networks.cosmoshub.name),1),(0,l._)("div",f,(0,a.zw)((0,i.SU)(e).networks.cosmoshub.token_name),1)])])),_:1},8,["class"]),(0,l.Wm)(r,{to:"/account/bostrom",class:(0,a.C_)(["network",{active:"bostrom"==(0,i.SU)(e).currentNetwork}])},{default:(0,l.w5)((()=>[k,(0,l._)("div",null,[(0,l._)("div",m,(0,a.zw)((0,i.SU)(e).networks.bostrom.name),1),(0,l._)("div",S,(0,a.zw)((0,i.SU)(e).networks.bostrom.token_name),1)])])),_:1},8,["class"])])])}}},b=t(40089);const h=(0,b.Z)(y,[["__scopeId","data-v-5958543c"]]);var z=h},53059:function(s,e,t){t.r(e),t.d(e,{default:function(){return re}});var l=t(73396),o=t(44870),a=t(87139),i=t(49242),n=t(27795),r=t.p+"img/empty_proposals.40cc1f50.svg",_=t(34776),c=t(90466),p=t(34721),d=t(42325);const v=s=>((0,l.dD)("data-v-100e14d4"),s=s(),(0,l.Cn)(),s),u=n+"#ic_status_deposite",w=n+"#ic_status_voting",g=n+"#ic_status_passed",f=n+"#ic_status_rejected",k={class:"network_logo"},m=["src"],S={class:"status"},y={key:0,class:"violet"},b=v((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":u})],-1))),h={key:1,class:"blue"},z=v((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":w})],-1))),O={key:2,class:"green"},P=v((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":g})],-1))),D={key:3,class:"red"},U=v((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":f})],-1))),T={key:0,class:"date"},$={key:1,class:"date"},R={key:2,class:"date"},A={class:"name"},E={class:"desc"},C={key:3,class:"progress"},j={class:"bar"},x={class:"funds"},I={class:"label"},L={class:"val"},N={class:"label"},q={class:"val"},H={key:4,class:"progress"},F={class:"bar"},M={class:"exp"},W={class:"yes green"},Z={class:"label"},G={class:"val"},J={class:"no orange"},V={class:"label"},Y={class:"val"},B={class:"nwv red"},K={class:"label"},Q={class:"val"},X={key:5,class:"progress"},ss={class:"bar"},es={class:"exp"},ts={class:"yes green"},ls={class:"label"},os={class:"val"},as={class:"no orange"},is={class:"label"},ns={class:"val"},rs={class:"nwv red"},_s={class:"label"},cs={class:"val"},ps={class:"abstain grey"},ds={class:"label"},vs={class:"val"};var us={__name:"ProposalsItem",props:["proposal"],setup(s){const e=s,t=(0,_.s)(),i=(new Date).getTimezoneOffset()/60*-1,n=(0,c.BKj)(r(e.proposal.voting_end_time));function r(s){let e=new Date(s);return new Date(e.setHours(e.getHours()+i))}function p(s){let t=e.proposal.tally_no+e.proposal.tally_no_with_veto+e.proposal.tally_yes;return(s/t*100).toFixed(2)}function v(s){let t=e.proposal.tally_abstain+e.proposal.tally_no+e.proposal.tally_no_with_veto+e.proposal.tally_yes;return(s/t*100).toFixed(2)}return(i,_)=>{const c=(0,l.up)("vue-countdown"),u=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(u,{to:`/${(0,o.SU)(t).currentNetwork}/proposal/${e.proposal.id}`,class:"proposal"},{default:(0,l.w5)((()=>[(0,l._)("div",k,[(0,l._)("img",{src:`/${(0,o.SU)(t).currentNetwork}_logo.png`,alt:""},null,8,m)]),(0,l._)("div",S,["PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",y,[b,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_deposite")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",h,[z,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_voting")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",O,[P,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_passed")),1)])):(0,l.kq)("",!0),"PROPOSAL_STATUS_REJECTED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",D,[U,(0,l._)("span",null,(0,a.zw)(i.$t("message.account_proposals_status_rejected")),1)])):(0,l.kq)("",!0)]),"PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",T,[(0,l.Wm)(c,{time:r(s.proposal.deposit_end_time)-new Date},{default:(0,l.w5)((({days:s,hours:e,minutes:t,seconds:o})=>[(0,l.Uk)((0,a.zw)(s)+"D : "+(0,a.zw)(e)+"H : "+(0,a.zw)(t)+"M : "+(0,a.zw)(o)+"S ",1)])),_:1},8,["time"])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",$,[(0,l.Wm)(c,{time:r(s.proposal.voting_end_time)-new Date},{default:(0,l.w5)((({days:s,hours:e,minutes:t,seconds:o})=>[(0,l.Uk)((0,a.zw)(s)+"D : "+(0,a.zw)(e)+"H : "+(0,a.zw)(t)+"M : "+(0,a.zw)(o)+"S ",1)])),_:1},8,["time"])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status||"PROPOSAL_STATUS_REJECTED"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("div",null,(0,a.zw)(i.$t("message.proposal_date_label_default")),1),(0,l._)("div",null,(0,a.zw)((0,o.SU)(n)),1)])):(0,l.kq)("",!0),(0,l._)("div",A,"#"+(0,a.zw)(e.proposal.id)+" "+(0,a.zw)(e.proposal.title),1),(0,l._)("div",E,(0,a.zw)(e.proposal.description),1),"PROPOSAL_STATUS_DEPOSIT_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",C,[(0,l._)("div",j,[(0,l._)("div",{class:"violet",style:(0,a.j5)(`width: ${i.$filters.toFixed((0,o.SU)(d.LH)(e.proposal.deposit,(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)/(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].proposal_need*100,2)}%;`)},null,4)]),(0,l._)("div",x,[(0,l._)("div",null,[(0,l._)("div",I,(0,a.zw)(i.$t("message.proposal_deposite_label_collected")),1),(0,l._)("div",L,(0,a.zw)(i.$filters.toFixed((0,o.SU)(d.LH)(e.proposal.deposit,(0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name),0))+" "+(0,a.zw)((0,o.SU)(d.uR)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)),1)]),(0,l._)("div",null,[(0,l._)("div",N,(0,a.zw)(i.$t("message.proposal_deposite_label_necessary")),1),(0,l._)("div",q,(0,a.zw)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].proposal_need)+" "+(0,a.zw)((0,o.SU)(d.uR)((0,o.SU)(t).networks[(0,o.SU)(t).currentNetwork].token_name)),1)])])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_VOTING_PERIOD"==e.proposal.status?((0,l.wg)(),(0,l.iD)("div",H,[(0,l._)("div",F,[(0,l._)("div",{class:"yes green",style:(0,a.j5)(`width: ${p(e.proposal.tally_yes)}%;`)},null,4),(0,l._)("div",{class:"no orange",style:(0,a.j5)(`width: ${p(e.proposal.tally_no)}%;`)},null,4),(0,l._)("div",{class:"nwv red",style:(0,a.j5)(`width: ${p(e.proposal.tally_no_with_veto)}%;`)},null,4)]),(0,l._)("div",M,[(0,l._)("div",W,[(0,l._)("div",Z,(0,a.zw)(i.$t("message.proposal_voting_label_yes")),1),(0,l._)("div",G,(0,a.zw)(p(e.proposal.tally_yes))+"%",1)]),(0,l._)("div",J,[(0,l._)("div",V,(0,a.zw)(i.$t("message.proposal_voting_label_no")),1),(0,l._)("div",Y,(0,a.zw)(p(e.proposal.tally_no))+"%",1)]),(0,l._)("div",B,[(0,l._)("div",K,(0,a.zw)(i.$t("message.proposal_voting_label_nwv")),1),(0,l._)("div",Q,(0,a.zw)(p(e.proposal.tally_no_with_veto))+"%",1)])])])):(0,l.kq)("",!0),"PROPOSAL_STATUS_PASSED"==e.proposal.status||"PROPOSAL_STATUS_REJECTED"==s.proposal.status?((0,l.wg)(),(0,l.iD)("div",X,[(0,l._)("div",ss,[(0,l._)("div",{class:"yes green",style:(0,a.j5)(`width: ${v(e.proposal.tally_yes)}%;`)},null,4),(0,l._)("div",{class:"no orange",style:(0,a.j5)(`width: ${v(e.proposal.tally_no)}%;`)},null,4),(0,l._)("div",{class:"nwv red",style:(0,a.j5)(`width: ${v(e.proposal.tally_no_with_veto)}%;`)},null,4)]),(0,l._)("div",es,[(0,l._)("div",ts,[(0,l._)("div",ls,(0,a.zw)(i.$t("message.proposal_voting_label_yes")),1),(0,l._)("div",os,(0,a.zw)(v(e.proposal.tally_yes))+"%",1)]),(0,l._)("div",as,[(0,l._)("div",is,(0,a.zw)(i.$t("message.proposal_voting_label_no")),1),(0,l._)("div",ns,(0,a.zw)(v(e.proposal.tally_no))+"%",1)]),(0,l._)("div",rs,[(0,l._)("div",_s,(0,a.zw)(i.$t("message.proposal_voting_label_nwv")),1),(0,l._)("div",cs,(0,a.zw)(v(e.proposal.tally_no_with_veto))+"%",1)]),(0,l._)("div",ps,[(0,l._)("div",ds,(0,a.zw)(i.$t("message.proposal_voting_label_abstain")),1),(0,l._)("div",vs,(0,a.zw)(v(e.proposal.tally_abstain))+"%",1)])])])):(0,l.kq)("",!0)])),_:1},8,["to"])}}},ws=t(40089);const gs=(0,ws.Z)(us,[["__scopeId","data-v-100e14d4"]]);var fs=gs;const ks=n+"#ic_arrow_ver",ms=(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":ks})],-1),Ss=[ms];var ys={__name:"ButtonUp",setup(s){const e=(0,o.iH)("none");function t(){window.scrollTo({top:0,behavior:"smooth"})}return(0,l.bv)((()=>{window.addEventListener("scroll",(()=>{let s=window.pageYOffset,t=document.documentElement.clientHeight;e.value=s>t?"flex":"none"}))})),(s,o)=>((0,l.wg)(),(0,l.iD)("button",{class:"btn_up",onClick:o[0]||(o[0]=s=>t()),style:(0,a.j5)({display:e.value})},Ss,4))}};const bs=ys;var hs=bs,zs=t(15941);const Os=s=>((0,l.dD)("data-v-de57470c"),s=s(),(0,l.Cn)(),s),Ps=n+"#ic_arrow_hor",Ds=n+"#ic_arr_down",Us=n+"#ic_check",Ts={class:"proposals_page"},$s={class:"cont middle"},Rs={class:"back_btn"},As=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Ps})],-1))),Es=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Ps})],-1))),Cs={class:"grid row"},js={class:"col"},xs={class:"col_main"},Is={class:"head"},Ls={class:"title"},Ns={key:0,class:"loader_wrap"},qs=Os((()=>(0,l._)("div",{class:"loader"},[(0,l._)("span")],-1))),Hs=[qs],Fs={key:1,class:"proposals"},Ms={key:2,class:"empty"},Ws=Os((()=>(0,l._)("img",{src:r,alt:""},null,-1))),Zs={class:"title"},Gs={key:0,class:"loader_wrap"},Js=Os((()=>(0,l._)("div",{class:"loader"},[(0,l._)("span")],-1))),Vs=[Js],Ys=Os((()=>(0,l._)("div",{class:"load_more_area"},null,-1))),Bs={class:"col"},Ks={class:"filter"},Qs=["onClick"],Xs=Os((()=>(0,l._)("svg",{class:"arr"},[(0,l._)("use",{"xlink:href":Ds})],-1))),se=["onClick"],ee=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Us})],-1))),te=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Us})],-1))),le=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Us})],-1))),oe=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Us})],-1))),ae=Os((()=>(0,l._)("svg",{class:"icon"},[(0,l._)("use",{"xlink:href":Us})],-1)));var ie={__name:"Proposals",setup(s){const e=(0,_.s)(),t=(0,l.f3)("i18n"),n=(0,o.iH)(!0),r=(0,o.iH)(!1),d=(0,c.ltg)("history"),v=(0,o.qj)({loading:!1,allReceived:!1,showButtonUp:!1,filter_deposit:!1,filter_voting:!1,filter_passed:!1,filter_rejected:!1,filter:""});async function u(){v.loading=!0,v.offset=v.offset+v.limit,await f(!0)}async function w(s){let e="",t=s.split("-");for(s of t)"deposit"==s&&(v.filter_deposit=!v.filter_deposit),"voting"==s&&(v.filter_voting=!v.filter_voting),"passed"==s&&(v.filter_passed=!v.filter_passed),"rejected"==s&&(v.filter_rejected=!v.filter_rejected);v.filter="",v.filter_deposit&&(e.length&&(e+="-"),e+="deposit",v.filter+=",PROPOSAL_STATUS_DEPOSIT_PERIOD"),v.filter_voting&&(e.length&&(e+="-"),e+="voting",v.filter+=",PROPOSAL_STATUS_VOTING_PERIOD"),v.filter_passed&&(e.length&&(e+="-"),e+="passed",v.filter+=",PROPOSAL_STATUS_PASSED"),v.filter_rejected&&(e.length&&(e+="-"),e+="rejected",v.filter+=",PROPOSAL_STATUS_REJECTED"),d.filter=e,v.allReceived=!1,await f()}async function g(){v.allReceived=!1,v.filter_deposit=!1,v.filter_voting=!1,v.filter_passed=!1,v.filter_rejected=!1,v.filter="",await f()}async function f(s=!1){r.value=!0;let t="";s||(n.value=!0,v.proposals=[],v.offset=0,v.limit=10),t=v.filter.length?`${e.networks[e.currentNetwork].index_api}/gov/proposals?limit=${v.limit}&offset=${v.offset}&status__in=${v.filter.substring(1)}`:`${e.networks[e.currentNetwork].index_api}/gov/proposals?limit=${v.limit}&offset=${v.offset}`,await fetch(t).then((s=>s.json())).then((e=>{e.proposals.length?v.proposals=v.proposals.concat(e.proposals):v.allReceived=!0,e.proposals.length<v.limit&&(v.allReceived=!0),s?v.loading=!1:n.value=!1,r.value=!1})),m.observe(document.querySelector(".load_more_area"))}function k(s){for(const e of s)e.intersectionRatio>=1&&!v.loading&&!v.allReceived&&u()}(0,l.wF)((async()=>{e.tooltip=t.global.t("message.notice_default_proposals_page");try{e.proposalsFilter?await w(e.proposalsFilter):await f()}catch(s){zs.error(s)}})),(0,l.YP)((0,l.Fl)((()=>e.currentNetwork)),(async()=>{n.value=!0,v.proposals=[],v.offset=0,v.limit=10;try{e.proposalsFilter?await w(e.proposalsFilter):await f()}catch(s){zs.error(s)}}));var m=new IntersectionObserver(k,{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});function S(s){s.target.classList.toggle("active")}return(s,t)=>{const _=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("section",Ts,[(0,l._)("div",$s,[(0,l._)("div",Rs,[(0,o.SU)(e).demo?((0,l.wg)(),(0,l.j4)(_,{key:0,to:`/account/${(0,o.SU)(e).currentNetwork}?demo=true`,class:"btn"},{default:(0,l.w5)((()=>[As])),_:1},8,["to"])):((0,l.wg)(),(0,l.j4)(_,{key:1,to:`/account/${(0,o.SU)(e).currentNetwork}`,class:"btn"},{default:(0,l.w5)((()=>[Es])),_:1},8,["to"]))]),(0,l._)("div",Cs,[(0,l._)("section",js,[(0,l.Wm)(p.Z)]),(0,l._)("section",xs,[(0,l._)("div",Is,[(0,l._)("div",Ls,(0,a.zw)(s.$t("message.account_proposals_title")),1)]),n.value?((0,l.wg)(),(0,l.iD)("div",Ns,Hs)):((0,l.wg)(),(0,l.iD)("div",Fs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.proposals,((s,e)=>((0,l.wg)(),(0,l.j4)(fs,{key:e,proposal:s},null,8,["proposal"])))),128))])),n.value||v.proposals.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ms,[Ws,(0,l._)("div",Zs,(0,a.zw)(s.$t("message.proposals_empty_title")),1)])),v.proposals.length?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[v.loading?((0,l.wg)(),(0,l.iD)("div",Gs,Vs)):(0,l.kq)("",!0),Ys],64)):(0,l.kq)("",!0)]),(0,l._)("section",Bs,[(0,l._)("div",Ks,[(0,l._)("div",{class:"title",onClick:(0,i.iM)(S,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.filter_title")),1),Xs],8,Qs),(0,l._)("div",{class:(0,a.C_)(["items",{lock:r.value}])},[(0,l._)("button",{class:(0,a.C_)(["btn",{active:!v.filter.length}]),onClick:(0,i.iM)(g,["prevent"])},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_all")),1),ee],10,se),(0,l._)("button",{class:(0,a.C_)(["btn",{active:v.filter_deposit}]),onClick:t[0]||(t[0]=(0,i.iM)((s=>w("deposit")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_deposite")),1),te],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:v.filter_passed}]),onClick:t[1]||(t[1]=(0,i.iM)((s=>w("passed")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_passed")),1),le],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:v.filter_rejected}]),onClick:t[2]||(t[2]=(0,i.iM)((s=>w("rejected")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_rejected")),1),oe],2),(0,l._)("button",{class:(0,a.C_)(["btn",{active:v.filter_voting}]),onClick:t[3]||(t[3]=(0,i.iM)((s=>w("voting")),["prevent"]))},[(0,l._)("span",null,(0,a.zw)(s.$t("message.account_proposals_status_voting")),1),ae],2)],2)]),(0,l.Wm)(hs)])])])])}}};const ne=(0,ws.Z)(ie,[["__scopeId","data-v-de57470c"]]);var re=ne}}]);
//# sourceMappingURL=569.5f8ec462.js.map